(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d95dda6e"],{"4a0c":function(e,t,n){"use strict";var i=n("b775");t["a"]={select:function(e){return Object(i["a"])("/api/student/exam/paper/select/"+e)},pageList:function(e){return Object(i["a"])("/api/student/exam/paper/pageList",e)},selectPageIndex:function(e){return Object(i["a"])("/api/student/exam/paper/selectPageIndex",e)}}},"4d2f":function(e,t,n){},6211:function(e,t,n){"use strict";n("4d2f")},"6cce":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticClass:"do-exam-title"},[n("el-col",{attrs:{span:24}},[n("span",{staticClass:"do-exam-time"},[n("label",[e._v("剩余时间：")]),n("label",[e._v(e._s(e.formatSeconds(e.remainTime)))])])])],1),n("el-row",{staticClass:"do-exam-title-hidden"},[n("el-col",{attrs:{span:24}},[e._l(e.answer.answerItems,(function(t){return n("span",{key:t.itemOrder},[n("el-tag",{staticClass:"do-exam-title-tag"},[e._v(e._s(t.itemOrder))])],1)})),n("span",{staticClass:"do-exam-time"},[n("label",[e._v("剩余时间：")])])],2)],1),n("el-container",{staticClass:"app-item-contain"},[n("el-header",{staticClass:"align-center"},[n("h1",[e._v(e._s(e.form.name))]),n("div",[n("span",{staticClass:"question-title-padding"},[e._v("试卷总分："+e._s(e.form.score))]),n("span",{staticClass:"question-title-padding"},[e._v("考试时间："+e._s(e.form.suggestTime)+"分钟")])])]),n("el-main",[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,"label-width":"100px"}},[e._l(e.form.titleItems,(function(t,i){return n("el-row",{key:i},[n("h3",{staticStyle:{height:"10px"}}),0!==t.questionItems.length?n("el-card",{staticClass:"exampaper-item-box"},e._l(t.questionItems,(function(t){return n("el-form-item",{key:t.itemOrder,staticClass:"exam-question-item",attrs:{"label-width":"50px",id:"question-"+t.itemOrder}},[n("QuestionEdit",{attrs:{qType:t.questionType,question:t,answer:e.answer.answerItems[t.itemOrder-1]}})],1)})),1):e._e()],1)})),n("el-row",{staticClass:"do-align-center"},[n("el-button",{staticStyle:{width:"120px",height:"40px","font-size":"20px"},attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提 交")])],1)],2)],1)],1)],1)},a=[],o=n("5530"),s=n("2f62"),r=n("ed08"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"line-height":"1.8"}},[3==e.qType?n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.qLoading,expression:"qLoading"}]},[n("div",{staticClass:"q-title",staticStyle:{"font-size":"20px","margin-left":"-12px"},domProps:{innerHTML:e._s(e.question.itemOrder+".  "+e.question.title)}}),n("div",{staticClass:"table_row"}),n("el-switch",{staticClass:"MySwitch",staticStyle:{zoom:"1.4"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"A","inactive-value":"B","active-text":"正确","inactive-text":"错误"},on:{change:function(t){e.answer.completed=!0}},model:{value:e.answer.content,callback:function(t){e.$set(e.answer,"content",t)},expression:"answer.content"}})],1):n("div")])},l=[],u=(n("a9e3"),{name:"QuestionShow",props:{question:{type:Object,default:function(){return{}}},answer:{type:Object,default:function(){return{id:null,content:"",contentArray:[]}}},qLoading:{type:Boolean,default:!1},qType:{type:Number,default:0}},methods:{}}),m=u,d=(n("6211"),n("2877")),p=Object(d["a"])(m,c,l,!1,null,null,null),f=p.exports,w=n("4a0c"),h=n("ed24"),g={components:{QuestionEdit:f},data:function(){return{form:{},formLoading:!1,answer:{questionId:null,doTime:0,answerItems:[],pageIndex:null,timeIsOver:0},timer:null,remainTime:0,queryParam:{paperType:1,subjectId:0,pageIndex:1,pageSize:10,id:0}}},created:function(){var e=this.$route.query.id,t=this;e&&0!==parseInt(e)&&(t.formLoading=!0,this.queryParam.id=e,this.queryParam.pageIndex=1,w["a"].selectPageIndex(this.queryParam).then((function(e){console.log("zhm-1-1-1"),console.log(e.response),t.form=e.response,t.remainTime=60*e.response.suggestTime,t.initAnswer(),t.timeReduce(),t.formLoading=!1})))},mounted:function(){},beforeDestroy:function(){window.clearInterval(this.timer)},methods:{formatSeconds:function(e){return Object(r["a"])(e)},timeReduce:function(){var e=this;this.timer=setInterval((function(){e.remainTime<=0?(e.answer.timeIsOver=1,e.submitForm()):(++e.answer.doTime,--e.remainTime)}),1e3)},questionCompleted:function(e){return this.enumFormat(this.doCompletedTag,e)},goAnchor:function(e){this.$el.querySelector(e).scrollIntoView({behavior:"instant",block:"center",inline:"nearest"})},initAnswer:function(){this.answer.id=this.form.id;var e=this.form.titleItems;for(var t in e){var n=e[t].questionItems;for(var i in n){var a=n[i];this.answer.answerItems.push({questionId:a.id,content:null,contentArray:[],completed:!1,itemOrder:a.itemOrder})}}},submitForm:function(){var e=this,t=this;window.clearInterval(t.timer),t.formLoading=!0,this.answer.pageIndex=this.queryParam.pageIndex,h["a"].answerSubmit(this.answer).then((function(n){1===n.code?(++e.queryParam.pageIndex,w["a"].selectPageIndex(e.queryParam).then((function(n){console.log("zhm 99999"),console.log(n),-1===n.code?t.$alert("考试已经结束，请考生试离开座位！！！","考试结束",{confirmButtonText:"谢谢 ",callback:function(e){window.opener=null,window.open("about:blank","_top").close()}}):(t.form=n.response,t.initAnswer(),t.timeReduce(),t.formLoading=!1),e.topWebsite()}))):-1===n.code?t.$alert("考试已经结束，请考生试离开座位！！！","考试结束",{confirmButtonText:"谢谢 ",callback:function(e){window.opener=null,window.open("about:blank","_top").close()}}):t.$message.error(n.message),t.formLoading=!1})).catch((function(e){t.formLoading=!1}))},stopF5Refresh:function(){document.onkeydown=function(e){var t=window.event||e,n=t.keyCode||t.which;n>111&&n<124&&(t.preventDefault?t.preventDefault():(t.keyCode=0,t.returnValue=!1))},document.oncontextmenu=function(e){return!1},history.pushState(null,null,window.location.href),window.addEventListener("popstate",(function(){history.pushState(null,null,window.location.href)}))},topWebsite:function(){document.body.scrollTop=document.documentElement.scrollTop=0}},computed:Object(o["a"])(Object(o["a"])({},Object(s["b"])("enumItem",["enumFormat"])),Object(s["d"])("enumItem",{doCompletedTag:function(e){return e.exam.question.answer.doCompletedTag}}))},v=g,b=(n("9c7a"),Object(d["a"])(v,i,a,!1,null,"b80c60d4",null));t["default"]=b.exports},"9c7a":function(e,t,n){"use strict";n("9f4b")},"9f4b":function(e,t,n){}}]);